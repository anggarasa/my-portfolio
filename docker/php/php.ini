; ==============================================================================
; PHP Configuration for Production
; Optimized for VPS with 2-4GB RAM
; ==============================================================================

; ==============================================================================
; Resource Limits
; ==============================================================================

; Maximum amount of memory a script may consume
memory_limit = 512M

; Maximum upload file size
upload_max_filesize = 100M

; Maximum size of POST data
post_max_size = 100M

; Maximum execution time of each script (in seconds)
max_execution_time = 300

; Maximum amount of time to receive input data
max_input_time = 300

; Maximum number of files that can be uploaded via a single request
max_file_uploads = 20

; Maximum input variable nesting level
max_input_nesting_level = 128

; Maximum input variables
max_input_vars = 5000

; ==============================================================================
; Security Settings
; ==============================================================================

; Do not expose PHP version in HTTP headers
expose_php = Off

; Disable dangerous functions
disable_functions = exec,passthru,shell_exec,system,proc_open,popen,curl_multi_exec,parse_ini_file,show_source

; Enable open_basedir for security (restrict file access)
; Uncomment and adjust if needed:
; open_basedir = /var/www/html:/tmp

; ==============================================================================
; Error Handling
; ==============================================================================

; Turn off display of errors for production
display_errors = Off

; Log errors to file
log_errors = On

; Maximum length of log_errors
log_errors_max_len = 4096

; Log repeated errors
ignore_repeated_errors = On

; ==============================================================================
; Session Configuration
; ==============================================================================

; Session cookie settings
session.cookie_httponly = On
session.cookie_secure = On
session.use_strict_mode = On
session.use_only_cookies = On

; Session garbage collection
session.gc_maxlifetime = 1440
session.gc_probability = 1
session.gc_divisor = 100

; ==============================================================================
; Date/Time Configuration
; ==============================================================================

; Default timezone (adjust as needed)
date.timezone = Asia/Jakarta

; ==============================================================================
; Realpath Cache (Performance)
; ==============================================================================

; Increase realpath cache size for better performance
realpath_cache_size = 4096K
realpath_cache_ttl = 600
